<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Sender Form</title>
    <style>
        /* ... (Same CSS styles as in your original code) ... */
    </style>
</head>
<body>
    <h1>Email Sender Form</h1>
    <form id="emailForm">
        <label for="receivers">Receivers Email:</label>
        <input type="email" name="receivers" required><br>

        <label for="subject">Subject:</label>
        <input type="text" name="subject" required><br>

        <label for="body">Body:</label><br>
        <textarea name="body" rows="5" cols="40" required></textarea><br>

        <input type="submit" value="Send Email">
    </form>
    <script>
        document.getElementById("emailForm").addEventListener("submit", function (event) {
            event.preventDefault();
            sendEmail();
        });

        async function sendEmail() {
            const formData = new FormData(document.getElementById("emailForm"));
            const endpointURL = 'https://api2-2zk3.onrender.com/send_email/';

            try {
                const response = await fetch(endpointURL, {
                    method: 'POST',
                    body: formData
                });

                if (response.ok) {
                    alert("Email sent successfully!");
                } else {
                    alert("Failed to send the email. Please try again later.");
                }
            } catch (error) {
                alert("An error occurred while sending the email. Please try again later.");
                console.error(error);
            }
        }
    </script>
</body>
</html>
